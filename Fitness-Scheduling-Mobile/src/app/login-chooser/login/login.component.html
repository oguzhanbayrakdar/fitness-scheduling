<ScrollView orientation="vertical">
  <FlexboxLayout class="page" paddingTop="50">

    <StackLayout class="form">
      <StackLayout>
        <Image [src]="isLoggingIn ? 'res://loginimage' : 'res://usercreateimage'"></Image>
      </StackLayout>

      <StackLayout class="hr"></StackLayout>

      <StackLayout *ngIf="!isLoggingIn" class="input-field">
        <TextField [(ngModel)]="user.name" hint="Name" maxLength="150" autocapitalizationType="words" [isEnabled]="!isBusy"></TextField>
      </StackLayout>

      <StackLayout *ngIf="!isLoggingIn" class="input-field">
        <TextField [(ngModel)]="user.lastName" hint="Last Name" maxLength="150" autocapitalizationType="words" [isEnabled]="!isBusy"></TextField>
      </StackLayout>

      <StackLayout class="input-field">
        <TextField class="input" [(ngModel)]="user.eMail" hint="Email" keyboardType="email" autocorrect="false"
          autocapitalizationType="none" maxlength="200" [isEnabled]="!isBusy">
        </TextField>
      </StackLayout>

      <StackLayout class="input-field">
        <TextField [(ngModel)]="user.password" hint="Password" secure="true" autocapitalizationType="none"
          autocorrect="false" maxLength="50" minLength="9" [isEnabled]="!isBusy"></TextField>
      </StackLayout>

      <StackLayout *ngIf="!isLoggingIn" class="input-field">
        <TextField [(ngModel)]="user.confirmPassword" hint="Confirm password" secure="true" autocapitalizationType="none"
        autocorrect="false" maxLength="50" minLength="9" [isEnabled]="!isBusy"></TextField>
      </StackLayout>

      <Button [text]="isLoggingIn ? 'Log In' : 'Sign Up'" (tap)="submit()" class="-primary" [isEnabled]="!isBusy"></Button>
      <Label *ngIf="isLoggingIn" text="Forgot your password?" style="text-align:center"
        (tap)="forgotPassword()" [isEnabled]="!isBusy"></Label>
    </StackLayout>

    <Label (tap)="toggleForm()" class="backToLoginEtc" [isEnabled]="!isBusy">
      <FormattedString fontSize="20">
        <Span [text]="isLoggingIn ? 'Donâ€™t have an account? ' : 'Back to Login' "></Span>
        <Span [text]="isLoggingIn ? 'Sign up' : '' " fontWeight="bold"></Span>
      </FormattedString>
    </Label>
  </FlexboxLayout>
</ScrollView>

<ns-loading-indicator [isBusy]="isBusy"></ns-loading-indicator>
