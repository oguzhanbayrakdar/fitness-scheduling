<ScrollView orientation="vertical">
  <FlexboxLayout class="page" paddingTop="50">

    <StackLayout class="form">
      <StackLayout>
        <Image [src]="isLoggingIn ? 'res://loginimage' : 'res://usercreateimage'"></Image>
      </StackLayout>

      <StackLayout class="hr"></StackLayout>

      <StackLayout style="text-align: center;">
        <Label [text]="!isLoggingIn ? 'Create New Business Account' : 'Login'" class="h2" textWrap="true"
          style="text-align: center;"></Label>
      </StackLayout>

      <StackLayout class="hr"></StackLayout>

      <StackLayout *ngIf="!isLoggingIn" class="input-field">
        <TextField #tfbName [(ngModel)]="business.name" hint="Your Workplace Name" maxLength="150"
          autocapitalizationType="words" [isEnabled]="!isBusy"></TextField>
      </StackLayout>

      <StackLayout class="input-field">
        <TextField #tfbEmail class="input" [(ngModel)]="business.owner.eMail" hint="Email" keyboardType="email"
          autocorrect="false" autocapitalizationType="none" maxLength="50" [isEnabled]="!isBusy">
        </TextField>
      </StackLayout>

      <StackLayout class="input-field">
        <TextField #tfbPassword [(ngModel)]="business.password" secure="true" hint="Password"
          autocapitalizationType="none" autocorrect="false" minLength="9" maxLength="50" [isEnabled]="!isBusy"></TextField>
      </StackLayout>

      <StackLayout *ngIf="!isLoggingIn" class="input-field">
        <TextField #tfbConfirmPassword [(ngModel)]="business.confirmPassword" secure="true" hint="Confirm password"
          autocapitalizationType="none" autocorrect="false" minLength="9" maxLength="50" [isEnabled]="!isBusy"></TextField>
      </StackLayout>

      <Button #tfbSubmitButton [text]="isLoggingIn ? 'Log In' : 'Sign Up'" (tap)="submit()" class="-primary"
        [isEnabled]="!isBusy"></Button>

      <Label *ngIf="isLoggingIn" text="Forgot your password?" style="text-align:center"
        (tap)="forgotPassword()" [isEnabled]="!isBusy"></Label>

    </StackLayout>
    <Label (tap)="toggleForm()" class="backToLoginEtc" [isEnabled]="!isBusy">
      <FormattedString fontSize="20">
        <Span [text]="isLoggingIn ? 'Donâ€™t have an account? ' : 'Back to Login' "></Span>
        <Span [text]="isLoggingIn ? 'Sign up' : '' " fontWeight="bold"></Span>
      </FormattedString>
    </Label>
  </FlexboxLayout>
</ScrollView>

<ns-loading-indicator [isBusy]="isBusy"></ns-loading-indicator>
